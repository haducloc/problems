function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function setCookie(e,t,n,i){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var o="expires="+a.toUTCString();document.cookie=e+"="+t+";"+o+";path="+i}function getClientZoneId(){var e=(new Date).getTimezoneOffset();if(0==e)return"Z";var t=e>0;e<0&&(e=-e);var n=Math.floor(e/60),i=n<10?"0"+n:n.toString(),a=e%60;return(t?"-"+i:"+"+i)+":"+(a<10?"0"+a:a.toString())}function setClientZoneCookie(e,t,n){var i=getClientZoneId();i!=getCookie(e)&&setCookie(e,i,t,n)}function initCountDown(e,t,n){var i=new Date((new Date).getTime()+1e3*e).getTime(),a=setInterval(function(){var o=Math.trunc((i-(new Date).getTime()+100)/1e3);0==o&&clearInterval(a),n(o,e,t)},1e3)}function __on_enter(e,t){return 13!=e.keyCode||(t(),!1)}function __click_btn_on_enter(e,t){return 13!=e.keyCode||(document.getElementById(t).click(),!1)}function getLabelWait(){return"undefined"!=typeof LABEL_WAIT?LABEL_WAIT:"Please wait..."}function __click_submit_btn(e,t,n){var i=e.target;return t&&(i.innerHTML=getLabelWait(),i.disabled=!0,i.classList.add("btn-waiting")),null!=n&&(i.form.actionType.value=n),i.form.submit(),!1}function initButtons(e){$(window).bind("pageshow",function(t){t.originalEvent.persisted&&$(e).each(function(){$(this).removeAttr("disabled").removeClass("btn-waiting").text($(this).attr("data-label"))})})}function initDropdowns(e){$(e).each(function(){"unset"==$(this).attr("unset")&&$(this).prop("selectedIndex",-1)})}function ajax(e,t,n,i,a,o,s,r){var l=new XMLHttpRequest;l.open(e,t,!0),null==i?"POST"==e&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):i(l),l.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var e=a?JSON.parse(l.responseText):l.responseText;200===this.status?null!=o&&o(e):null!=s&&s(e,this.status),null!=r&&r(e,this.status)}},l.send(n)}function initSignUp(e){$(e).click(function(){var e=$(this),t=$("input[name='email']");e.prop("disabled",!0).addClass("btn-waiting").text(getLabelWait()),ajax("POST",SIGNUP_URL,"email="+encodeURIComponent(t.val()),null,!0,function(e){$("#signUpMsg").text(e.message).removeClass("d-none").removeClass("messages-error").addClass("messages-notice"),t.val("")},function(e){$("#signUpMsg").text(e.title).removeClass("d-none").removeClass("messages-notice").addClass("messages-error")},function(){e.removeAttr("disabled").removeClass("btn-waiting").text(e.attr("data-label"))})})}function initClkSearch(){$(".clk-search").click(function(){var e=$(this),t=e.text(),n=t.indexOf(" ")>0?'"'+encodeURIComponent(t)+'"':encodeURIComponent(t),i=e.attr("data-clk"),a=(new Date).getTime();null!=i&&a-i<=500?(e.attr("data-clk",a+800),window.open("https://www.google.com/search?q="+n+"+definition","_blank")):e.attr("data-clk",a)})}function updateTags(e,t){if(e.length=0)return t;if("#unsorted"==e&&"#tbd"!=t)return t;for(var n=e.split(","),i=!1,a=0;a<n.length;a++)n[a]=n[a].trim(),n[a]==t&&(i=!0);i?n.splice(n.indexOf(t),1):n.push(t);var o=n.indexOf("#tbd"),s=o>=0;s&&n.splice(o,1),n.indexOf("#unsorted")>=0&&(n=["#unsorted"]),s&&n.push("#tbd"),e="";for(a=0;a<n.length;a++)e.length>0&&(e+=", "),e+=n[a];return e}